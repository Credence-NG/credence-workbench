---
import LayoutSidebar from '../app/LayoutSidebar.astro';
import UserDashBoard from '../components/User/UserDashBoard';
import { pathRoutes } from '../config/pathRoutes';
import { checkUserSession } from '../utils/check-session-feature';

export const prerender = false;

const response = await checkUserSession(Astro.request, Astro.url.pathname);
if (!response.authorized) {
	return Astro.redirect(response.redirect);
}

---

<LayoutSidebar notFoundPage={!response.permitted}>
	<UserDashBoard client:load/>	
</LayoutSidebar>
