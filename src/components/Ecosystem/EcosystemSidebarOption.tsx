import { useEffect, useState } from 'react'
import { ICheckEcosystem, checkEcosystem } from '../../config/ecosystem'
import { pathRoutes } from '../../config/pathRoutes'
import React from 'react';

const EcosystemSidebarOption = () => {
    const [isEcosystemEnabled, setIsEcosystemEnabled] = useState(false);
    const [showSubMenus, setShowSubMenus] = useState(true);

    useEffect(() => {
        const checkEcosystemData = async () => {
            const data: ICheckEcosystem = await checkEcosystem();
            setIsEcosystemEnabled(data.isEnabledEcosystem)
        }
        checkEcosystemData();
    }, [])

    if (isEcosystemEnabled) {
        return (
            <li>
                <button
                    type="button"
                    className="flex items-center w-full p-2 text-base text-gray-900 transition duration-75 rounded-lg group hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700"
                    aria-controls="dropdown-ecosystems"
                    data-collapse-toggle="dropdown-ecosystems"
                    onClick={() => setShowSubMenus(!showSubMenus)}
                >
                    <svg xmlns="http://www.w3.org/2000/svg" className="flex-shrink-0 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white"
                        width="17" height="17" viewBox="0 0 25 25" fill="none">
                        <path d="M10.0153 0.127968C9.87275 0.200114 9.6963 0.350964 9.62843 0.469021C9.45198 0.751046 9.45198 1.26263 9.62843 1.54465C9.77774 1.79388 10.2121 2.02344 10.5107 2.02344C10.8093 2.02344 11.2436 1.79388 11.3929 1.54465C11.4812 1.41348 11.5287 1.21672 11.5287 1.00684C11.5287 0.593637 11.3522 0.298495 10.9925 0.121409C10.6532 -0.0425587 10.3478 -0.0425587 10.0153 0.127968Z" fill="currentColor" />
                        <path d="M6.00754 4.13364L2.75 6.10782L2.75679 6.73746L2.76357 7.36053L3.8087 7.99673C4.48736 8.40993 4.9217 8.63948 5.04385 8.63948C5.17959 8.63948 5.26102 8.69195 5.34246 8.81657C5.41033 8.93463 6.09577 9.39374 7.31735 10.1349L9.18365 11.2695L9.3601 11.1121C9.62478 10.8694 9.95053 10.7317 10.3442 10.6924C10.7988 10.6465 11.1925 10.758 11.5657 11.0334L11.8711 11.2564L13.7306 10.1283C14.9658 9.38062 15.6309 8.94119 15.6987 8.82313C15.7802 8.69195 15.8616 8.63948 15.9973 8.63948C16.1263 8.63948 16.5403 8.42305 17.1918 8.02952C18.1826 7.43268 18.1894 7.42612 18.1419 7.22936C18.074 6.97357 18.074 6.49478 18.1419 6.24555L18.1894 6.04879L14.9862 4.10085C11.8168 2.17914 11.7761 2.15291 11.6404 2.27753C11.0839 2.78255 9.95732 2.78255 9.40082 2.27753C9.26509 2.15947 9.21758 2.1857 6.00754 4.13364ZM10.7785 5.42571C11.1789 5.66183 11.016 6.08158 10.5206 6.08158C10.0252 6.08158 9.86231 5.66183 10.2695 5.42571C10.3849 5.35357 10.5002 5.29454 10.5206 5.29454C10.541 5.29454 10.6563 5.35357 10.7785 5.42571ZM9.06149 6.47511C9.23794 6.65875 9.13614 6.90142 8.81718 7.07851C8.505 7.24904 8.23353 7.20312 8.17245 6.96701C8.12495 6.77681 8.21996 6.64563 8.51857 6.46199C8.78324 6.31114 8.91219 6.31114 9.06149 6.47511ZM12.4751 6.43575C12.7737 6.58661 12.9163 6.77681 12.8687 6.96045C12.8077 7.20312 12.5362 7.24904 12.224 7.07851C11.9051 6.90142 11.8033 6.65875 11.9797 6.47511C12.1222 6.3177 12.224 6.31114 12.4751 6.43575ZM7.11375 7.56385C7.33092 7.70815 7.30378 7.94426 7.04589 8.13446C6.69977 8.38369 6.59797 8.39681 6.41474 8.21973C6.19757 8.00985 6.25865 7.8262 6.61155 7.62288C6.94409 7.43268 6.92373 7.43268 7.11375 7.56385ZM14.4229 7.62288C14.7826 7.8262 14.8436 8.00985 14.6265 8.21973C14.4432 8.39681 14.3414 8.38369 14.0021 8.13446C13.7374 7.94426 13.7103 7.70815 13.9274 7.56385C14.1175 7.43268 14.0903 7.42612 14.4229 7.62288Z" fill="currentColor" />
                        <path d="M0.495418 5.90059C0.264675 6.04488 0 6.49087 0 6.74666C0 7.00245 0.264675 7.455 0.502205 7.59929C0.651509 7.68456 0.848319 7.73047 1.06549 7.73047C2.09026 7.73047 2.49066 6.46464 1.63556 5.9137C1.33016 5.71694 0.800813 5.71038 0.495418 5.90059Z" fill="currentColor" />
                        <path d="M19.1308 6.00553C18.4115 6.6614 18.8458 7.73047 19.8299 7.73047C20.3931 7.73047 20.8343 7.29759 20.8343 6.74666C20.8343 6.16294 20.3999 5.76285 19.762 5.76285C19.443 5.76285 19.3752 5.78909 19.1308 6.00553Z" fill="currentColor" />
                        <path d="M2.13446 8.05356C2.07338 8.11915 1.88336 8.23065 1.72048 8.28968L1.42188 8.40117V12.0544V15.7076L1.72727 15.8191C2.12089 15.9699 2.59595 16.475 2.71132 16.8685C2.75883 17.0324 2.77918 17.3276 2.76561 17.5244L2.73847 17.8785L5.98244 19.8461L9.23319 21.8203L9.50466 21.6301C9.65396 21.5252 9.86434 21.4202 9.97971 21.4006L10.1765 21.3546V19.9248C10.1765 19.0394 10.1494 18.4754 10.1087 18.4491C10.0204 18.3967 10.0204 18.1081 10.1087 18.0556C10.1494 18.0294 10.1765 17.2817 10.1765 16.0355V14.0548L9.84398 13.9105C9.14497 13.5957 8.70384 12.8611 8.78528 12.1528L8.81921 11.8248L6.97327 10.7098C5.95529 10.0999 5.03911 9.5883 4.93052 9.57518C4.82872 9.55551 4.69299 9.4768 4.63191 9.39154C4.5369 9.25381 2.43986 7.92239 2.31091 7.92239C2.28377 7.92239 2.20233 7.98142 2.13446 8.05356ZM5.16126 10.6574C5.30378 10.8148 5.26985 11.3329 5.12054 11.4444C4.94409 11.5625 4.83551 11.5494 4.67942 11.3985C4.50976 11.2345 4.49618 10.8017 4.65227 10.6508C4.788 10.5131 5.04589 10.5196 5.16126 10.6574ZM5.16126 12.625C5.30378 12.7824 5.26985 13.3005 5.12054 13.412C4.94409 13.5301 4.83551 13.517 4.67942 13.3661C4.53011 13.2218 4.49618 12.8545 4.61155 12.6381C4.69978 12.4807 5.03232 12.4741 5.16126 12.625ZM5.12733 14.5073C5.43273 14.9992 5.43951 15.0189 5.36486 15.1763C5.29699 15.3206 5.1952 15.3665 4.95088 15.3403C4.79479 15.3206 4.54369 15.0189 4.54369 14.8353C4.54369 14.6123 4.78122 14.3958 4.97124 14.4549C5.05268 14.4745 5.12054 14.5008 5.12733 14.5073ZM7.00721 15.8256C7.28545 16.0093 7.33975 16.2323 7.14972 16.4094C7.00042 16.5537 6.85111 16.5405 6.57287 16.3569C6.28783 16.1667 6.21318 15.9896 6.3557 15.7994C6.48464 15.6158 6.69502 15.6289 7.00721 15.8256ZM8.87351 16.9734C9.1789 17.1833 9.23319 17.3538 9.04996 17.5244C8.90744 17.6686 8.73778 17.6555 8.45274 17.4916C8.15413 17.3276 8.07269 17.0849 8.24236 16.9078C8.41202 16.7307 8.54775 16.7439 8.87351 16.9734Z" fill="currentColor" />
                        <path d="M17.5431 8.60449C16.9866 8.94555 16.4708 9.29316 16.3894 9.38498C16.3079 9.4768 16.1654 9.56207 16.0704 9.57518C15.9754 9.59486 15.0728 10.1064 14.0616 10.7164L12.2292 11.8248L12.236 12.2839C12.2428 13.0447 11.8288 13.6809 11.1502 13.9302L10.8516 14.0417V16.029C10.8516 17.2817 10.8787 18.0294 10.9194 18.0556C10.9601 18.0753 10.9873 18.1671 10.9873 18.2524C10.9873 18.3376 10.9601 18.4295 10.9194 18.4491C10.8787 18.4754 10.8516 19.0394 10.8516 19.9248V21.3546L11.0484 21.4006C11.1637 21.4202 11.3741 21.5252 11.5234 21.6301L11.7949 21.8203L14.5638 20.1413C16.084 19.2165 17.5499 18.3311 17.8146 18.1737L18.2964 17.8851L18.2625 17.3997C18.2353 16.9669 18.2489 16.8685 18.4186 16.5471C18.6154 16.1536 19.0633 15.7666 19.4094 15.6945L19.6062 15.6486V12.015C19.6062 8.493 19.5994 8.3815 19.4773 8.3815C19.4094 8.3815 19.1719 8.28968 18.9615 8.18474C18.7511 8.07324 18.5679 7.98798 18.5611 7.98798C18.5611 7.98798 18.0996 8.27 17.5431 8.60449ZM16.3758 10.6508C16.5319 10.8017 16.5183 11.2345 16.3487 11.3985C16.1926 11.5494 16.1247 11.5559 15.9347 11.4641C15.8329 11.4051 15.8057 11.3198 15.8057 11.0509C15.8057 10.8607 15.8397 10.6705 15.8872 10.6246C16.0026 10.5131 16.2537 10.5262 16.3758 10.6508ZM16.4165 12.6381C16.5862 12.9464 16.4097 13.4973 16.1383 13.4973C15.9008 13.4973 15.8057 13.3596 15.8057 13.0185C15.8057 12.8283 15.8397 12.6381 15.8872 12.5922C16.0161 12.4676 16.3351 12.4938 16.4165 12.6381ZM16.3487 14.5467C16.4233 14.6188 16.4844 14.7631 16.4844 14.8615C16.4844 15.2813 15.8261 15.5305 15.6632 15.1829C15.5411 14.9271 15.86 14.4483 16.1654 14.4221C16.1926 14.4155 16.274 14.4745 16.3487 14.5467ZM14.6724 15.7994C14.8149 15.9896 14.7403 16.1667 14.4552 16.3569C14.177 16.5405 14.0277 16.5537 13.8784 16.4094C13.6883 16.2323 13.7426 16.0093 14.0209 15.8256C14.3331 15.6289 14.5434 15.6158 14.6724 15.7994ZM12.7857 16.9078C12.9554 17.0849 12.874 17.3276 12.5753 17.4916C12.2903 17.6555 12.1206 17.6686 11.9781 17.5244C11.7949 17.3538 11.8492 17.1833 12.1546 16.9734C12.4803 16.7439 12.6161 16.7307 12.7857 16.9078Z" fill="currentColor" />
                        <path d="M10.0419 11.4898C9.30895 11.8636 9.30895 12.8999 10.0419 13.254C10.9581 13.7 11.8946 12.7425 11.406 11.8636C11.2703 11.6144 10.8088 11.3389 10.517 11.3389C10.4152 11.3389 10.2048 11.4045 10.0419 11.4898Z" fill="currentColor" />
                        <path d="M19.6162 16.3257C19.2293 16.4766 18.9375 16.8832 18.9375 17.2767C18.9375 18.0244 19.8808 18.5491 20.4984 18.1359C20.8785 17.8932 21.0074 17.6637 21.0006 17.2702C21.0006 17.0013 20.9599 16.8766 20.8242 16.693C20.5188 16.3126 20.0369 16.1683 19.6162 16.3257Z" fill="currentColor" />
                        <path d="M0.633109 16.444C0.402366 16.5358 0.130904 16.8506 0.042679 17.113C-0.174491 17.8213 0.558457 18.5428 1.29819 18.346C1.99042 18.1624 2.30939 17.3753 1.92255 16.8047C1.68502 16.4506 1.06745 16.28 0.633109 16.444Z" fill="currentColor" />
                        <path d="M10.229 22.0247C9.76077 22.1625 9.49609 22.5035 9.49609 22.9757C9.49609 24.0055 10.833 24.3859 11.4031 23.5201C11.5117 23.3496 11.5321 23.225 11.5117 22.9233C11.4913 22.6019 11.4574 22.5166 11.2606 22.3199C11.1317 22.1953 10.9213 22.0575 10.7855 22.0247C10.5141 21.9526 10.4801 21.9526 10.229 22.0247Z" fill="currentColor" />
                    </svg>
                    <span
                        className="flex-1 ml-3 text-left whitespace-nowrap"
                    >
                        Ecosystem
                    </span>
                    <svg
                        className="w-6 h-6 flex-shrink-0 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white sidebar-expand-menu-icon"
                        fill="currentColor"
                        viewBox="0 0 20 20"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            fillRule="evenodd"
                            d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                            clipRule="evenodd"
                        />
                    </svg>
                </button>
                {
                    showSubMenus &&
                    <ul id="dropdown-ecosystems" className="py-2 space-y-2">
                        <li>
                            <a
                                href={pathRoutes.ecosystem.root}
                                className="flex items-center p-2 text-base text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700"
                            >
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" className='flex-shrink-0 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white'>
                                    <path d="M12.4689 11.226C14.9817 11.226 17.0277 9.17995 17.0277 6.66719C17.0277 4.15443 14.9817 2.10547 12.4689 2.10547C9.95618 2.10547 7.91016 4.15149 7.91016 6.66425C7.91016 9.17701 9.95618 11.226 12.4689 11.226ZM12.4689 3.27966C14.3359 3.27966 15.8535 4.79729 15.8535 6.66425C15.8535 8.53121 14.3359 10.0488 12.4689 10.0488C10.602 10.0488 9.08434 8.53121 9.08434 6.66425C9.08434 4.80023 10.602 3.27966 12.4689 3.27966Z" fill="currentColor" />
                                    <path d="M20.9984 20.5578V16.7887C20.9984 14.1614 18.8614 12.0273 16.2371 12.0273H8.69883C6.07159 12.0273 3.9375 14.1644 3.9375 16.7887V20.5578C3.9375 20.8807 4.20169 21.1449 4.52459 21.1449H20.4143C20.7372 21.1449 20.9984 20.8807 20.9984 20.5578ZM19.8243 19.9707H5.11169V16.7887C5.11169 14.8102 6.72032 13.2015 8.69883 13.2015H16.2371C18.2156 13.2015 19.8243 14.8102 19.8243 16.7887V19.9707Z" fill="currentColor" />
                                </svg>
                                <span className="ml-2">Profile</span>
                            </a>
                        </li>
                        <li>
                            <a
                                href={pathRoutes.ecosystem.endorsements}
                                className="flex items-center p-2 text-base text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700"
                            >
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" className='flex-shrink-0 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white'>
                                    <path d="M9.44322 0.737955C7.93853 0.93483 6.58385 2.04577 6.09166 3.48014C5.54791 5.05983 5.95572 6.69577 7.18385 7.86295C9.17135 9.74733 12.4526 9.15202 13.6948 6.6817C13.9526 6.17077 14.0698 5.69264 14.0932 5.03639C14.1307 4.10827 13.962 3.43795 13.4885 2.63639C13.2917 2.30358 12.626 1.62389 12.2557 1.38483C11.4588 0.864517 10.3713 0.616079 9.44322 0.737955ZM10.6573 1.33327C11.3135 1.45983 11.8854 1.75045 12.3963 2.2192C13.1557 2.90827 13.5448 3.7942 13.5448 4.83014C13.5448 6.25514 12.7807 7.46452 11.501 8.0692C10.976 8.31764 10.5776 8.40202 9.95885 8.40202C8.98385 8.39733 8.22447 8.08327 7.51666 7.38483C6.78072 6.65358 6.42447 5.83795 6.41978 4.86764C6.4151 2.61295 8.45416 0.91608 10.6573 1.33327Z" fill="currentColor" stroke="currentColor" stroke-width="0.5" />
                                    <path d="M8.32933 9.61523C6.39339 9.91055 4.7387 11.1012 3.8762 12.8215C3.63714 13.2949 3.50589 13.6652 3.36058 14.2512C3.27152 14.6309 3.26214 14.8043 3.24808 17.9168C3.22933 21.1652 3.22933 21.184 3.32308 21.2777C3.42152 21.3762 3.45433 21.3762 6.51527 21.3762H9.60902V22.0465C9.60902 22.6746 9.61839 22.7262 9.70745 22.8105C9.8012 22.8949 9.90433 22.8996 11.1981 22.9137C12.07 22.923 12.6418 22.909 12.7168 22.8809C12.8059 22.848 12.8528 22.7871 12.8715 22.6887C12.8903 22.6137 12.9043 22.548 12.909 22.548C12.9184 22.548 13.0778 22.6043 13.27 22.6699C13.7856 22.848 14.77 23.0918 15.3512 23.1855C16.0637 23.3027 17.4184 23.3027 18.07 23.1855C18.7028 23.0684 19.2934 22.8949 19.5465 22.7496C19.8887 22.548 20.2262 22.1684 20.4371 21.7418C20.7325 21.1371 20.7746 20.8465 20.7559 19.473L20.7418 18.3012L20.5637 17.9449C20.3621 17.5324 20.0621 17.2324 19.6496 17.0309C19.3871 16.8996 19.3637 16.8996 18.4121 16.8855L17.4418 16.8715L17.4278 15.6668C17.4137 14.5324 17.4043 14.448 17.3012 14.1902C17.1418 13.7871 16.8043 13.3699 16.4715 13.1496C16.2887 13.0324 16.1528 12.9012 16.1012 12.798C16.059 12.709 15.8856 12.4277 15.7168 12.1746C15.0512 11.1668 13.9778 10.3277 12.8434 9.91523C12.0325 9.62461 11.8309 9.60117 10.1481 9.58242C9.29964 9.57773 8.47933 9.5918 8.32933 9.61523ZM11.559 10.1777C12.9887 10.3746 14.3621 11.209 15.1825 12.3762L15.4262 12.7277L15.1262 12.7559C14.7559 12.7887 14.5965 12.8824 14.4793 13.1402C14.3621 13.4074 14.3668 13.5715 14.5309 14.4199C14.709 15.3199 14.7231 15.8027 14.5778 16.1074C14.3996 16.4684 13.9918 16.6793 13.2934 16.7777C13.0965 16.8059 12.9231 16.8293 12.909 16.8293C12.8996 16.8293 12.8903 16.7918 12.8903 16.7496C12.8903 16.7074 12.8575 16.6324 12.8106 16.5855C12.7403 16.5059 12.6278 16.5012 11.259 16.5012C9.9512 16.5012 9.76839 16.5105 9.69339 16.5809C9.6137 16.6512 9.60902 16.7824 9.60902 18.7371V20.8137H6.70277H3.79652V17.9871C3.8012 15.1277 3.81995 14.7434 3.97933 14.1105C4.50902 12.0809 6.29495 10.4777 8.36683 10.1777C8.77933 10.1168 11.1371 10.1168 11.559 10.1777ZM15.9465 13.4918C16.3075 13.6699 16.5559 13.923 16.7293 14.2934C16.8512 14.5559 16.8512 14.5652 16.8746 15.9246C16.8934 17.1293 16.9075 17.3027 16.9778 17.373C17.0481 17.4434 17.1934 17.4527 18.1731 17.4574L19.2887 17.4621L19.509 17.5887C19.809 17.7668 20.0528 18.0668 20.1371 18.3668C20.1981 18.573 20.2075 18.8262 20.1934 19.773C20.17 21.0809 20.1418 21.2262 19.8043 21.7277C19.5653 22.084 19.2981 22.2855 18.9043 22.4074C17.2637 22.9137 15.4543 22.8199 13.3825 22.1121L12.9137 21.9527L12.8996 19.6746L12.8903 17.3965L13.1106 17.3684C14.0903 17.2512 14.6762 16.9934 14.9668 16.5527C15.2856 16.0746 15.3184 15.5074 15.0981 14.373C14.9481 13.6277 14.9246 13.4027 14.9903 13.3418C15.009 13.323 15.1637 13.3137 15.3325 13.323C15.5575 13.3324 15.7168 13.3793 15.9465 13.4918ZM12.3278 19.7121V22.3605H11.2496H10.1715V19.7121V17.0637H11.2496H12.3278V19.7121Z" fill="currentColor" stroke="currentColor" stroke-width="0.5" />
                                </svg>
                                <span className="ml-2">Endorsements</span>
                            </a>
                        </li>
                    </ul>
                }
            </li>
        )
    }

    return <></>
}

export default EcosystemSidebarOption